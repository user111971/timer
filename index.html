<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Keeper</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-image: url('https://images.unsplash.com/photo-1549429532-603120614532?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-color: #0f172a; /* Fallback color */
        }
        #timer-display {
            font-variant-numeric: tabular-nums;
        }
        /* Hide number input spinners */
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            -moz-appearance: textfield;
        }
    </style>
</head>
<body class="text-white flex items-center justify-center min-h-screen p-4">

    <div class="bg-slate-800 bg-opacity-90 p-8 rounded-xl shadow-lg w-full max-w-lg flex flex-col items-center space-y-6">
        <h1 class="text-3xl font-bold text-slate-100">Timer</h1>

        <!-- Time input section with hours, minutes, and seconds -->
        <div class="flex justify-center items-end space-x-4 w-full">
            <div class="flex flex-col items-center">
                <label for="hours-input" class="text-slate-400 text-sm">Hours</label>
                <input type="number" id="hours-input" value="0" min="0" max="99" class="w-16 text-center bg-slate-700 text-white text-2xl font-semibold rounded-lg p-3 outline-none focus:ring-2 focus:ring-indigo-500 transition-all duration-200">
            </div>
            <div class="flex flex-col items-center">
                <label for="minutes-input" class="text-slate-400 text-sm">Minutes</label>
                <input type="number" id="minutes-input" value="25" min="0" max="59" class="w-16 text-center bg-slate-700 text-white text-2xl font-semibold rounded-lg p-3 outline-none focus:ring-2 focus:ring-indigo-500 transition-all duration-200">
            </div>
            <div class="flex flex-col items-center">
                <label for="seconds-input" class="text-slate-400 text-sm">Seconds</label>
                <input type="number" id="seconds-input" value="0" min="0" max="59" class="w-16 text-center bg-slate-700 text-white text-2xl font-semibold rounded-lg p-3 outline-none focus:ring-2 focus:ring-indigo-500 transition-all duration-200">
            </div>
        </div>

        <!-- Timer display -->
        <div id="timer-display" class="text-6xl md:text-7xl font-extrabold text-slate-200 transition-colors duration-500">
            00:00:00
        </div>

        <!-- Control buttons -->
        <div class="flex justify-center space-x-4 w-full">
            <button id="start-btn" class="bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                Start
            </button>
            <button id="pause-btn" class="bg-slate-700 text-white font-bold py-3 px-6 rounded-lg hover:bg-slate-600 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-slate-500" disabled>
                Pause
            </button>
            <button id="reset-btn" class="bg-red-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-red-700 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500" disabled>
                Reset
            </button>
        </div>

        <!-- Message box for alerts -->
        <div id="message-box" class="mt-4 p-3 bg-indigo-900 text-white text-center rounded-lg w-full hidden"></div>
    </div>

    <script>
        // DOM elements
        const hoursInput = document.getElementById('hours-input');
        const minutesInput = document.getElementById('minutes-input');
        const secondsInput = document.getElementById('seconds-input');
        const timerDisplay = document.getElementById('timer-display');
        const startBtn = document.getElementById('start-btn');
        const pauseBtn = document.getElementById('pause-btn');
        const resetBtn = document.getElementById('reset-btn');
        const messageBox = document.getElementById('message-box');

        // State variables
        let totalSeconds = 0;
        let secondsRemaining = 0;
        let timerId = null;
        let isPaused = false;

        // Function to update the timer display
        function updateDisplay() {
            const hours = Math.floor(secondsRemaining / 3600);
            const minutes = Math.floor((secondsRemaining % 3600) / 60);
            const seconds = secondsRemaining % 60;

            timerDisplay.textContent = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;

            // Change color to red in the last 20 seconds
            if (secondsRemaining <= 20 && secondsRemaining > 0) {
                timerDisplay.classList.add('text-red-500');
                timerDisplay.classList.remove('text-slate-200');
            } else {
                timerDisplay.classList.add('text-slate-200');
                timerDisplay.classList.remove('text-red-500');
            }
        }

        // Function to show a message in the message box
        function showMessage(msg, type = 'info') {
            messageBox.textContent = msg;
            messageBox.classList.remove('hidden');
            messageBox.className = 'mt-4 p-3 text-center rounded-lg w-full';
            if (type === 'error') {
                messageBox.classList.add('bg-red-500');
            } else {
                messageBox.classList.add('bg-indigo-900');
            }
        }

        // Function to hide the message box
        function hideMessage() {
            messageBox.classList.add('hidden');
        }

        // Start button handler
        startBtn.addEventListener('click', () => {
            hideMessage();

            if (!isPaused) {
                const hours = parseInt(hoursInput.value, 10) || 0;
                const minutes = parseInt(minutesInput.value, 10) || 0;
                const seconds = parseInt(secondsInput.value, 10) || 0;

                totalSeconds = (hours * 3600) + (minutes * 60) + seconds;
                secondsRemaining = totalSeconds;

                if (totalSeconds <= 0) {
                    showMessage("Please enter a valid time greater than 0.", 'error');
                    return;
                }
            }

            if (secondsRemaining > 0) {
                isPaused = false;
                startBtn.disabled = true;
                pauseBtn.disabled = false;
                resetBtn.disabled = false;

                timerId = setInterval(() => {
                    secondsRemaining--;
                    updateDisplay();
                    if (secondsRemaining <= 0) {
                        clearInterval(timerId);
                        timerDisplay.textContent = '00:00:00';
                        showMessage("Time's up!");
                        startBtn.disabled = false;
                        pauseBtn.disabled = true;
                        resetBtn.disabled = true;
                        isPaused = false;
                    }
                }, 1000);
            }
        });

        // Pause button handler
        pauseBtn.addEventListener('click', () => {
            clearInterval(timerId);
            isPaused = true;
            startBtn.disabled = false;
            pauseBtn.disabled = true;
        });

        // Reset button handler
        resetBtn.addEventListener('click', () => {
            clearInterval(timerId);
            secondsRemaining = 0;
            totalSeconds = 0;
            isPaused = false;
            updateDisplay();
            startBtn.disabled = false;
            pauseBtn.disabled = true;
            resetBtn.disabled = true;
            hideMessage();
        });

        // Initial display update
        updateDisplay();
    </script>
</body>
</html>

